"use strict";var out_of_memory=["Out_of_memory",0],sys_error=["Sys_error",-1],failure=["Failure",-2],invalid_argument=["Invalid_argument",-3],end_of_file=["End_of_file",-4],division_by_zero=["Division_by_zero",-5],not_found=["Not_found",-6],match_failure=["Match_failure",-7],stack_overflow=["Stack_overflow",-8],sys_blocked_io=["Sys_blocked_io",-9],assert_failure=["Assert_failure",-10],undefined_recursive_module=["Undefined_recursive_module",-11];function caml_create_bytes(r){if(r<0)throw[invalid_argument,"String.create"];for(var e=new Array(r),t=0,n=r-1|0;t<=n;++t)e[t]=0;return e}function caml_blit_bytes(r,e,t,n,i){if(0<i){if(r===t){var o=r,a=e,u=n,f=i;if(a<u){for(var s=(o.length-u|0)-1|0,_=f-1|0,c=_<s?_:s;0<=c;--c)o[u+c|0]=o[a+c|0];return 0}if(u<a){for(var d=(o.length-a|0)-1|0,l=f-1|0,m=l<d?l:d,v=0;v<=m;++v)o[u+v|0]=o[a+v|0];return 0}return 0}var h=r.length-e|0;if(i<=h){for(var g=0,y=i-1|0;g<=y;++g)t[n+g|0]=r[e+g|0];return 0}for(var w=0,b=h-1|0;w<=b;++w)t[n+w|0]=r[e+w|0];for(var p=h,x=i-1|0;p<=x;++p)t[n+p|0]=0;return 0}return 0}function bytes_to_string(r){var e=r,t=r.length,n="",i=t;if(t<=4096&&t===e.length)return String.fromCharCode.apply(null,e);for(var o=0;0<i;){var a=i<1024?i:1024,u=new Array(a);caml_blit_bytes(e,o,u,0,a),n+=String.fromCharCode.apply(null,u),i=i-a|0,o=o+a|0}return n}function bytes_of_string(r){for(var e=r.length,t=new Array(e),n=0,i=e-1|0;n<=i;++n)t[n]=r.charCodeAt(n);return t}out_of_memory.tag=248,sys_error.tag=248,failure.tag=248,invalid_argument.tag=248,end_of_file.tag=248,division_by_zero.tag=248,not_found.tag=248,match_failure.tag=248,stack_overflow.tag=248,sys_blocked_io.tag=248,assert_failure.tag=248,undefined_recursive_module.tag=248;var id=[0];function caml_fresh_oo_id(r){return id[0]+=1,id[0]}function create(r){var e=[r,caml_fresh_oo_id()];return e.tag=248,e}var Exit=create("Pervasives.Exit");function sub(r,e,t){if(e<0||t<0||e>(r.length-t|0))throw[invalid_argument,"String.sub / Bytes.sub"];var n=caml_create_bytes(t);return caml_blit_bytes(r,e,n,0,t),n}function sub$1(r,e,t){return bytes_to_string(sub(bytes_of_string(r),e,t))}function index_rec(r,e,t,n){for(;;){var i=t;if(e<=i)throw not_found;if(r.charCodeAt(i)===n)return i;t=i+1|0}}function index_from(r,e,t){var n=r.length;if(e<0||n<e)throw[invalid_argument,"String.index_from / Bytes.index_from"];return index_rec(r,n,e,t)}function rindex_rec(r,e,t){for(;;){var n=e;if(n<0)throw not_found;if(r.charCodeAt(n)===t)return n;e=n-1|0}}function rindex(r,e){return rindex_rec(r,r.length-1|0,e)}function parseHtml(e,r){var t,n=sub$1(r,0,e),i=0;try{t=rindex(n,60),i=1}catch(r){if(r===not_found)return[n,e];throw r}if(1===i){if(t!==(e-1|0))return[n,e];var o,a=0;try{o=index_from(r,t,62),a=2}catch(r){return[n,e]}if(2===a){var u=o+1|0;return[sub$1(r,0,u),u]}}}function write_(e,t,r,n){var f=r?n[2].innerHTML:"";return new Promise(function(a,r){var u=function(n,i,o){return setTimeout(function(r){if(n<=i.length){var e=parseHtml(n,i);return o[2].innerHTML=f+e[0].replace("\n","<br />"),u(e[1]+1|0,i,o),0}var t=o[3];return t?a([t[0]]):(console.log("empty array"),a(1))},o[1])};return u(e,t,n),0})}function appendCursor(r){var e=document.createElement("style");e.innerHTML=".re-typed-text:after {\n    animation: re-typed-blinker 0.7s step-end infinite;\n    content: '|';\n    color: white;\n    font-weight: bold;\n   }\n\n  @keyframes re-typed-blinker {\n   50% {\n    opacity: 0;\n   }\n  }";var t=document.createElement("span");return t.className="re-typed-text",r.appendChild(t),r.appendChild(e),t}function make(r){return r.innerHTML="",[void 0,40,appendCursor(r),0,Promise.resolve(0)]}function write(e,r,t){var n=void 0!==r&&r,i=t[0],o=t[1],a=t[2],u=[e,t[3]],f=[i,o,a,u,t[4]];return[i,o,a,u,t[4].then(function(r){return"number"==typeof r?0!==r?Promise.resolve(1):write_(0,e,n,f):write_(0," "+e,n,f)})]}function wait(e,r){var t=r[4].then(function(r){var t=e,n=r;return new Promise(function(e,r){return console.log("waiting..."),setTimeout(function(r){return e(n)},t),0})});return[r[0],r[1],r[2],r[3],t]}var match=document.querySelector("#root");null!=match&&write('\nThis <span style="color:red;">has red</b> words.',!0,write("This text <strong>has bold</strong> and <em>italic</em> words.",void 0,wait(500,write("\nAnd this one is also written on a new line.",!0,wait(500,write("\nThis text is appended to the end of the previous line.",!0,wait(1e3,function(r){return write("And yet another sentence.",void 0,r)}(wait(2e3,function(r){return write("Some more text...",void 0,r)}(wait(1e3,function(r){return write("This is some test text to use as a demo.",void 0,r)}(make(match)))))))))))));